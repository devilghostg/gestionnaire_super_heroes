<div class="card shadow-sm p-4">
    {{ form_start(form) }}
    <div class="row">
        {% for field in form %}
            {# Ignore le champ _token #}
            {% if field.vars.name != '_token' %}
                <div class="col-md-6 mb-3">
                    {# Gestion spécifique pour le champ isActive #}
                    {% if field.vars.name == 'isActive' %}
                        <div class="form-check form-switch">
                            {{ form_widget(field, {
                                'attr': {
                                    'class': 'form-check-input',
                                    'id': field.vars.id
                                }
                            }) }}
                            {{ form_label(field, 'Activer le super-héros', {
                                'label_attr': {
                                    'class': 'form-check-label',
                                    'for': field.vars.id
                                }
                            }) }}
                            {{ form_errors(field) }}
                        </div>
                    {# Gestion spécifique pour le champ team (boutons radio) #}
                    {% elseif field.vars.name == 'team' %}
                        <div class="mb-3">
                            {{ form_label(field, 'Équipe', {'label_attr': {'class': 'form-label'}}) }}
                            <div class="row g-3">
                                {% for choice in field %}
                                    <div class="col-md-6">
                                        <div class="form-check mb-3">
                                            {{ form_widget(choice, {
                                                'attr': {
                                                    'class': 'form-check-input',
                                                    'type': 'radio'
                                                }
                                            }) }}
                                            {{ form_label(choice, null, {
                                                'label_attr': {
                                                    'class': 'form-check-label ms-2'
                                                }
                                            }) }}
                                        </div>
                                    </div>
                                {% endfor %}
                            </div>
                            {{ form_errors(field) }}
                        </div>
                    {# Gestion spécifique pour le champ Power (sélection d'un pouvoir) #}
                    {% elseif field.vars.name == 'power' %}
                        <div class="mb-3">
                            {{ form_label(field, 'Pouvoir', {'label_attr': {'class': 'form-label'}}) }}
                            {{ form_widget(field, {
                                'attr': {
                                    'class': 'form-select'
                                }
                            }) }}
                            {{ form_errors(field) }}
                        </div>
                    {# Gestion spécifique pour le champ model3dPath #}
                    {% elseif field.vars.name == 'model3dPath' %}
                        <div class="mb-3">
                            {{ form_label(field, 'Modèle 3D', {'label_attr': {'class': 'form-label'}}) }}
                            {{ form_widget(field, {'attr': {'class': 'form-control model3d-select'}}) }}
                            {{ form_errors(field) }}
                            <div id="model3dPreview" class="mt-3" style="height: 300px; background: linear-gradient(135deg, #1a1a1a 0%, #0a0a0a 100%); border-radius: 10px;"></div>
                        </div>
                    {# Gestion générique pour les autres champs #}
                    {% else %}
                        <div class="mb-3">
                            {{ form_label(field, null, {'label_attr': {'class': 'form-label'}}) }}
                            {{ form_widget(field, {'attr': {'class': 'form-check'}}) }}
                            {{ form_errors(field) }}
                        </div>
                    {% endif %}
                </div>
            {% endif %}
        {% endfor %}
    </div>
    <button class="btn btn-primary">
        {{ button_label|default('Enregistrer') }}
    </button>
    {{ form_end(form) }}
</div>